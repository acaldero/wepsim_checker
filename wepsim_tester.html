<meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="expires" content="0" />
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
<meta http-equiv="pragma" content="no-cache" />

<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>(ARCOS) WepSIM</title>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="external/jquery.min.js"></script>
    <script src="external/jquery-ui.min.js"></script>
    <script>
        $(document).bind("mobileinit", function() {
            $.mobile.defaultPageTransition = "none";
            $.mobile.defaultDialogTransition = "none";
        });
    </script>
    <script src="external/jquery.mobile-1.4.5.min.js"></script>

    <link rel="stylesheet" href="external/jquery.mobile-1.4.5.min.css">
    <style>
    .ui-panel-inner {
        position: absolute;
        top: 1px;
        left: 0;
        right: 0;
        bottom: 0px;
        overflow: scroll;
        -webkit-overflow-scrolling: touch;
    }

    textarea.ui-input-text { 
        height: inherit !important
    }

    .ui-icon-reset:after {
	background-image: url("images/reset.svg");
        background-repeat: no-repeat;
        background-size: 15px 15px;
    }
    </style>

    <link rel="stylesheet" href="external/bootstrap.min.css">
    <link rel="stylesheet" href="external/bootstrap-theme.min.css">
    <script src="external/bootstrap.min.js"></script>
    <script src="external/knockout-3.3.0.js"></script>

    <script src="sim_hw_board.js"></script>
    <script src="sim_hw_cpu.js"></script>
    <script src="sim_hw_mem.js"></script>
    <script src="sim_hw_io.js"></script>
    <script src="sim_hw_kbd.js"></script>
    <script src="sim_hw_scr.js"></script>
    <script src="sim_cfg.js"></script>
    <script src="sim_core_ui.js"></script>
    <script src="sim_core_ctrl.js"></script>
    <script src="sim_lang.js"></script>
    <script src="sim_lang_firm.js"></script>
    <script src="sim_lang_asm.js"></script>

    <script src="wepsim_tester.js"></script>

</head>


<body>

<div data-role="page" id="main2">

        <div data-role="header" data-position="fixed" data-disable-page-zoom="false" data-theme="a">
		<div id="button_bar" data-role="controlgroup" data-type="horizontal" class="ui-btn-left">
                    <a href="#about2" data-rel="popup" data-position-to="window"><img src="images/arcos.svg" height="40"></a>
		</div>
	        <span class="ui-title"><b>WepSIM Checker</b> <span class="badge">1.0.2</span> </span>
		<div id="version_bar" data-role="controlgroup" data-type="horizontal" class="ui-btn-right">
                    <a href="#popupmenu2" 
                           data-rel="popup" data-transition="pop"
                           class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b ui-icon-gear ui-btn-icon-left">Menu</a>
		</div>
        </div><!-- /header -->

        <div role="main" class="ui-content">

		<div id="lsload5" 
                     data-role="popup" data-overlay-theme="a" data-theme="a" data-dismissible="false">
		    <div data-role="header" data-theme="a">
		    <h1>Checklist</h1>
		    </div>
		    <div role="main" class="ui-content">
			<h3>Please select the file to be used as checklist:</h3>
			<p><input type="file" id="fileToLoad5" /></p>
			<center>
			<a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b" data-rel="back">Cancel</a>
                        <button class="ui-btn ui-btn-b ui-btn-inline" 
                                onclick="var fileToLoad = document.getElementById('fileToLoad5').files[0];
					 var fileReader = new FileReader();
					 fileReader.onload = function (fileLoadedEvent) {
								$('#checklist').text(fileLoadedEvent.target.result);
							     };
					 fileReader.readAsText(fileToLoad, 'UTF-8');
                                         $('#lsload5').popup('close');">Load from File</button>
                        </center>
		    </div>
		</div>

		<div id="lsload3" 
                     data-role="popup" data-overlay-theme="a" data-theme="a" data-dismissible="false">
		    <div data-role="header" data-theme="a">
		    <h1>Assembler</h1>
		    </div>
		    <div role="main" class="ui-content">
			<h3>Please select the file to be used as assembly test:</h3>
			<p><input type="file" id="fileToLoad3" /></p>
			<center>
			<a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b" data-rel="back">Cancel</a>
                        <button class="ui-btn ui-btn-b ui-btn-inline" 
                                onclick="var fileToLoad = document.getElementById('fileToLoad3').files[0];
					 var fileReader = new FileReader();
					 fileReader.onload = function (fileLoadedEvent) {
								$('#asm_test').text(fileLoadedEvent.target.result);
							     };
					 fileReader.readAsText(fileToLoad, 'UTF-8');
                                         $('#lsload3').popup('close');">Load from File</button>
                        </center>
		    </div>
		</div>

                <div id="mload1"
                     data-role="popup" data-overlay-theme="a" data-theme="a" data-dismissible="false">
                    <div data-role="header" data-theme="a">
                    <h1>Load several firmware</h1>
                    </div>
                    <div role="main" class="ui-content">
                        <h3>Please select the files to be loaded:</h3>
                        <p><input type="file" id="filesToLoad" multiple/></p>
                        <center>
                        <a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b" data-rel="back">Cancel</a>
                        <button class="ui-btn ui-btn-b ui-btn-inline"
                                onclick="load_firmware_from_files(); $('#mload1').popup('close');">Load from files</button>
                        </center>
                    </div>
                </div>

                <br>

                <div data-role='popup' id='IF'>
                    <a href='#' data-rel='back' 
                       class='ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right'>Close</a>
                    <div id='LF'>Firmware is not loaded.</div>
                </div>

                <div data-role='popup' id='IUC'>
                    <a href='#' data-rel='back' 
                       class='ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right'>Close</a>
                    <div id='BF'>Firmware is not micro-compiled.</div>
                </div>

                <div data-role='popup' id='IE'>
                    <a href='#' data-rel='back' 
                       class='ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right'>Close</a>
                    <div id='EF'>Firmware is not tested.</div>
                </div>

                <div data-role='popup' id='IX'>
                    <a href='#' data-rel='back' 
                       class='ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right'>Close</a>
                    <div id='XF'>Firmware is not checked.</div>
                </div>

                <table data-role="table" id="tmfiles" data-mode="reflow" class="ui-responsive table-stroke">
                <thead>
                 <tr>
                 <th width=20%>File name</th>
                 <th width=20%>Firmware</th>
                 <th width=20%>&#181;compilation</th>
                 <th width=20%>Compilation &nbsp;
			<div data-role="popup" id="show_asm_test">
                        <a href="#" data-rel="back" 
                           class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right">Close</a>
			<pre id=asm_test></pre>
			</div>
                        <a href="#show_asm_test" data-rel="popup" data-transition="pop">(Test)</a>
			</th>
                 <th width=20%>Execution &nbsp;
			<div data-role="popup" id="show_checklist">
                        <a href="#" data-rel="back" 
                           class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right">Close</a>
			<pre id=checklist></pre>
			</div>
                        <a href="#show_checklist" data-rel="popup" data-transition="pop">(Checklist)</a>
			</th>
                 </tr>
                </thead>
                <tbody id="tbmfile">
                 <tr>
                 <td>...</td>
                 <td>...</td>
                 <td>...</td>
                 <td>...</td>
                 <td>...</td>
                 </tr>
                </tbody>
                </table>

        </div><!-- /content -->

        <div data-role="footer" data-position="fixed" data-fullscreen="true" data-theme="a">
                <div data-role="navbar">
                <ul>
                    <li><a href="#mload1"
                           class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b ui-icon-back    ui-btn-icon-top"
                           data-rel="popup" data-position-to="window" data-transition="pop" data-inline="true">Load firmwares</a></li>
                    <li><a href="#lsload3"
                           class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b ui-icon-back    ui-btn-icon-top"
                           data-rel="popup" data-position-to="window" data-transition="pop" data-inline="true">Load test</a></li>
                    <li><a href="#lsload5"
                           class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b ui-icon-back    ui-btn-icon-top"
                           data-rel="popup" data-position-to="window" data-transition="pop" data-inline="true">Load checklist</a></li>
                    <li><a href="#" onclick="checkFirmwares();"
                           class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b ui-icon-refresh ui-btn-icon-top"
                           data-inline="true">&#181;check</a></li>
                    <li><a href="wepsim.html#main1" rel="external" 
                           class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b ui-icon-gear    ui-btn-icon-top"
                           data-inline="true">Simulator</a></li>
                </ul>
                </div><!-- /navbar -->
        </div><!-- /footer -->

</div><!-- /page -->


<div data-role="popup" id="about2" 
     data-theme="a" data-dismissible="false" data-animate="false" data-overlay-theme="b">

   <div data-role="header" data-theme="a">
   <h1><b>Web elemental processor SIMulator Tester</b> <span class="badge btn-success">5.7c</span> </h1>
   </div>
   <div role="main" class="ui-content">
        <table data-role="table" id="tabout2" data-mode="reflow" class="ui-responsive">
        <thead align=center>
        <tr>
        <th>&nbsp;</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td rowspan=3 valign="middle">
            <img src="images/arcos.svg">
          </td>
          <td>
            Copyright &copy; 2015 Alejandro Calder&oacute;n Mateos, F&eacute;lix Garc&iacute;a Carballeira, and Javier Prieto Cepeda
          </td>
        </tr>
        <tr>
         <td>
	    <b>WebSIM-Checker</b> is free software: you can redistribute it and/or modify
	    it under the terms of the GNU Lesser General Public License as published by
	    the Free Software Foundation, either version 3 of the License, or
	    (at your option) any later version.
            See <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.
         </td>
        </tr>
        <tr>
         <td>
            More information: <a href="http://www.arcos.inf.uc3m.es/~ec-2ed/">http://www.arcos.inf.uc3m.es/~ec-2ed/</a><br>
         </td>
        </tr>
        </tbody>
        </table>

        <br>
        <center><a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b" data-rel="back">Ok</a></center>
   </div>

</div><!-- /popup -->


<div data-role="popup" id="popupmenu2" data-position="right" data-display="overlay" data-theme="b">
      <ul id="listview_2" data-role="listview" data-inset="true">
	  <li><a id="tab21" href="wepsim-debug.html#main3" rel="external" 
		     <h2>Firmware</h2><p>microcode</p></a></li>
	  <li><a id="tab24" href="wepsim-debug.html#main4" rel="external" 
		     <h2>Assembly</h2><p>code & data</p></a></li>
	  <li><a id="tab25" href="wepsim-debug.html#main1" rel="external" 
		     <h2>Simulator</h2><p>run simulation</p></a></li>
      </ul>
</div>


<script>
    $(document).ready(function()
    {
            jQuery.fx.off = true;

            $("#about2").enhanceWithin().popup();

	    $("#popupmenu2").popup();
            $("#listview_2").listview();
    }) ;
</script>


</body>

</html>

